[[toc]]

# 智控风扇 编程实现

>案例：
>
>1 旋钮控制风扇
>
>2 温度控制风扇
>
>3 温度阈值的调整

<br>

<br>

## 1 旋钮控制风扇

**功能：转动旋钮调整风扇转速。**

<a href="/tutorial/cfdsx/sb3/02/旋钮控制风扇.sb3">点击下载程序：旋钮控制风扇.sb3</a>

<a href="https://www.bilibili.com/video/BV158DmYxE4L/?spm_id_from=333.999.0.0&vd_source=d34a80bae9d64a0c5a0716bd47877802" target="_blank">点击观看视频教学</a>

旋钮模块接模拟信号引脚，其在程序中返回值范围为0-1023；风扇所接引脚以PWM方式进行输出，实现转速可变，其占空比取值为0-100。因此，程序中将0-1023映射至0-100，以实现旋钮对风扇的控制。

![image-20241008094623475](/智控风扇编程实现.assets/image-20241008094623475.png)

占空比的大小决定了主控输出给风扇的电压大小。由于风扇电机的工作电压较高，当占空比过小时，存在电机阻塞不转动的现象，可以将映射关系做些许调整从而达到更好的体验效果。如：

![image-20241008100652128](/智控风扇编程实现.assets/image-20241008100652128.png)





## 2 温度控制风扇

**功能：屏幕实时显示当前温度数值。当温度高于给定阈值时，风扇开启；反之，关闭。**

<a href="/tutorial/cfdsx/sb3/02/温度控制风扇.sb3">点击下载程序：温度控制风扇.sb3</a>

<a href="https://www.bilibili.com/video/BV1e8DmYxEdj/?spm_id_from=333.999.0.0&vd_source=d34a80bae9d64a0c5a0716bd47877802" target="_blank">点击观看视频教学</a>

可以利用屏显的实时温度，决定阈值大小的选取。

![image-20241008102754479](/智控风扇编程实现.assets/image-20241008102754479.png)

![image-20241008102812395](/智控风扇编程实现.assets/image-20241008102812395.png)





## 3 温度阈值的调整

**功能：转动旋钮调整温度阈值，温控风扇根据调节的阈值大小自动工作。**

<a href="/tutorial/cfdsx/sb3/02/温度阈值的调整.sb3">点击下载程序：温度阈值的调整.sb3</a>

实际测试中，改变环境温度操作难度较大；变相地，可以在环境温度不变的基础上，改变阈值大小已到达实验效果。示例程序选取的可调阈值区间为20-35℃。

![image-20241008110150291](/智控风扇编程实现.assets/image-20241008110150291.png)

![image-20241008110211366](/智控风扇编程实现.assets/image-20241008110211366.png)